#!/bin/sh

# ==============
# Battery Status
# ==============

for b in /sys/class/power_supply/BAT?; do
  battery=$b
  break
done;

if [ -d $battery ]; then
  cap=$(cat ${battery}/capacity)
  batstatus=""
  case "$(cat "${battery}/status")" in
		"Full") batstatus="âš¡" ;;
		"Discharging") batstatus="ğŸ”‹$cap" ;;
		"Charging") if [ $cap -gt 15 ]; then batstatus="ğŸ”Œ$cap"; else batstatus="â—$cap"; fi ;;
		"Not charging") batstatus="âš ï¸$cap" ;;
		"Unknown") batstatus="â™»ï¸$cap" ;;
	esac

  if [ ! -z $batstatus ]; then
    echo "$batstatus"
  else
    echo "error"
  fi
fi
