#!/bin/bash

# ================================
# Current download & upload speed
# ================================

interface=$(ip link | grep -i "state up" | cut -d ' ' -f 2 | sed 's/://')
if [ -z $interface ]; then
  exit 0
fi

stats=$(ifstat $interface | grep -iw $interface | tr -s '[:space:]')

if [ -z "$stats" ]; then
 exit 1
fi

rxbytes=$(echo $stats | cut -d ' ' -f 6)
txbytes=$(echo $stats | cut -d ' ' -f 8)

rxkb=$(bc <<< $rxbytes/1024)
txkb=$(bc <<< $txbytes/1024)

echo " ðŸ”»${rxkb}k ðŸ”º${txkb}k"
